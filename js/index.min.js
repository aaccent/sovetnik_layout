/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ 972:
/***/ (() => {

eval("window.onload = function() {\n    const isMobile = {\n        Android: function() {\n            return navigator.userAgent.match(/Android/i);\n        },\n        BlackBerry: function() {\n            return navigator.userAgent.match(/BlackBerry/i);\n        },\n        iOS: function() {\n            return navigator.userAgent.match(/iPhone|iPad|iPod/i);\n        },\n        Opera: function() {\n            return navigator.userAgent.match(/Opera Mini/i);\n        },\n        Windows: function() {\n            return navigator.userAgent.match(/IEMobile/i) || navigator.userAgent.match(/WPDesktop/i);\n        },\n        any: function() {\n            return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());\n        }\n    }; \n\n\n    function lockBody() {\n        // let paddingValue = window.innerWidth - document.documentElement.clientWidth;\n        // if (lockPaddingElements && paddingValue) {\n        //     lockPaddingElements.style.paddingRight = paddingValue + \"px\"\n        // }\n        document.body.classList.add(\"_lock\")\n    }\n\n    function unlockBody () {\n        // if (lockPaddingElements) {\n        //     lockPaddingElements.style.paddingRight = \"\"\n        // }\n        document.body.classList.remove(\"_lock\")\n    }\n\n    function openPopup(popup = undefined) {\n        lockBody()\n        if (popup) {\n            popup.classList.add(\"popup_open\")\n        } else {\n            console.log(\"Give me a popup\")\n        }\n    }\n\n    function closePopup() {\n        let popup = document.querySelector(\".popup_open\")\n\n        popup.classList.remove(\"popup_open\");\n        popup.addEventListener(\"transitionend\", () =>  {\n            if (!document.querySelector(\".header__burger_open\") && !headerEl.classList.contains(\"header_menu-open\")) {\n                unlockBody() \n            }\n\n            if (popup.querySelector(\".form-block_sent\")) {\n                popup.querySelector(\".form-block_sent\").classList.remove(\"form-block_white\")\n                popup.querySelector(\".form-block_sent\").classList.remove(\"form-block_sent\")\n            }\n\n            if (popup.querySelector(\"form\")) {\n                popup.querySelector(\"form\").reset()\n            }\n        }, {once: true})\n    }\n    \n    function changeCity(value, label) {\n        headerCityEl.dataset.city = value\n        headerCityEl.lastElementChild.innerHTML = label\n    }\n\n    function validateForm(form) {    \n        const reqFiedls = form.querySelectorAll(\"[class$='input_required']\")\n    \n        function changeContentPage(form) {\n            const formBlockEl = form.closest(\".form-block__body\");\n            \n            formBlockEl.style.opacity = \"0\"\n            if (formBlockEl.closest(\".popup\")) {\n                formBlockEl.closest(\".popup\").classList.add(\"popup_white\")\n            }\n            formBlockEl.addEventListener(\"transitionend\", () => {\n                form.closest(\".form-block\").classList.add(\"form-block_sent\")\n                formBlockEl.style.opacity = \"1\"\n            }, { once: true })\n        }\n    \n        let errors = 0;\n        for (let i = 0; i < reqFiedls.length; i++) {\n            if (reqFiedls[i].getAttribute(\"name\") === \"name\") {\n                if (reqFiedls[i].value === \"\") {\n                    reqFiedls[i].closest(\".form__control\").classList.add(\"form__control_error\");\n                    errors++;\n                }\n            }\n            if (reqFiedls[i].getAttribute(\"name\") === \"phone\") {\n                if (reqFiedls[i].value.trim() === \"\" || reqFiedls[i].value.length < 15) {\n                    reqFiedls[i].closest(\".form__control\").classList.add(\"form__control_error\");\n                    errors++;\n                }\n            }\n\n            if (reqFiedls[i].getAttribute(\"name\") === \"checkbox\") {\n                if (!reqFiedls[i].checked) {\n                    reqFiedls[i].classList.add(\"form__check-input_error\")\n                    errors++\n                }\n            }\n        }\n    \n        if (errors) {\n            console.log(\"Fill req fields\");\n        } else {\n            form.classList.add(\"form_sending\")\n            form.querySelectorAll(\"input, textarea\").forEach(formField => formField.disabled = true)\n            setTimeout(() => {\n                changeContentPage(form)\n                resetForm(form)\n            }, 1000)\n        }\n    }\n    \n    function resetForm(form) {\n        form.reset();\n        form.classList.remove(\"form_sending\")\n        form.querySelectorAll(\".form__control\").forEach(controlEl => controlEl.className = \"form__control\")\n    }\n\n    // Header\n    const headerEl = document.querySelector(\".header\");\n    const headerCityEl = headerEl.querySelector(\".header__city\");\n    const burgerMenuEl = headerEl.querySelector(\".header__burger\");\n\n    const menuEl = document.querySelector(\".header__menu\")\n\n    menuEl.addEventListener(\"click\", e => {\n        const targetEl = e.target;\n        if ((!targetEl.closest(\".header__menu-item\") && !targetEl.closest(\".header__submenu\")) || targetEl.closest(\".submenu__item\")) {\n            return\n        }\n        \n        let menuItemEl = targetEl.closest(\".header__menu-item\")\n        if (menuItemEl.childElementCount !== 3) {\n            return\n        }\n\n        e.preventDefault();\n        menuItemEl.classList.toggle(\"header__menu-item_open\")\n    })\n\n    const tabletMediaQuery = window.matchMedia(\"(max-width: 1080px)\") \n    const gapMediaQuery = window.matchMedia(\"(max-width: 768px)\")\n    const phoneMediaQuery = window.matchMedia(\"(max-width: 576px)\")\n\n    const footerMenuItemEls = headerEl.querySelectorAll(\".header__footer .header__menu-item\");\n    function replaceFooterMenu(e) {\n        if (e.matches) {\n            menuEl.querySelector(\".header__menu-list\").append(...footerMenuItemEls)\n        } else {\n            headerEl.querySelector(\".header__footer .header__menu-list\").append(...footerMenuItemEls)\n        }\n    }\n\n    function replaceButton(e) {\n        const buttonEl = headerEl.querySelector(\".header__button\");\n        if (e.matches) {\n            menuEl.append(buttonEl)\n        } else {\n            headerEl.querySelector(\".header__actions\").append(buttonEl)\n        }\n    }\n\n    function redrawMenu(e) {\n        const headerTopEl = headerEl.querySelector(\".header__top\");\n        const callEl = headerEl.querySelector(\".header__call\")\n        if (e.matches) {\n            headerTopEl.firstElementChild.after(callEl)\n            menuEl.append(headerTopEl)\n            if (burgerMenuEl.classList.contains(\"header__burger_open\")) {\n                headerEl.classList.add(\"header_menu-open\")\n            }\n        } else {\n            headerEl.querySelector(\".header__actions\").prepend(callEl)\n            headerEl.querySelector(\".container\").prepend(headerTopEl)\n            if (headerEl.classList.contains(\"header_menu-open\")) {\n                burgerMenuEl.classList.add(\"header__burger_open\")\n            }\n        }\n    }\n\n    tabletMediaQuery.addEventListener(\"change\", e => {\n        if (!e.matches) {\n            if (burgerMenuEl.classList.contains(\"header__burger_open\")) {\n                burgerMenuEl.classList.remove(\"header__burger_open\");\n                menuEl.classList.remove(\"header__menu_open\");\n                document.querySelectorAll(\".header__menu-item_open\").forEach(menuItemEl => menuItemEl.classList.remove(\"header__menu-item_open\"))\n            }\n        }\n    })\n\n    tabletMediaQuery.addEventListener(\"change\", replaceFooterMenu)\n    gapMediaQuery.addEventListener(\"change\", replaceButton)\n    phoneMediaQuery.addEventListener(\"change\", redrawMenu)\n    \n    replaceButton(gapMediaQuery)\n    redrawMenu(phoneMediaQuery)\n    replaceFooterMenu(tabletMediaQuery)\n    \n    burgerMenuEl.addEventListener(\"click\", () => {\n        if (burgerMenuEl.classList.contains(\"header__burger_open\")) {\n            document.querySelectorAll(\".header__menu-item_open\")\n                .forEach(menuItemEl => menuItemEl.classList.remove(\"header__menu-item_open\"))\n            headerEl.classList.remove(\"header_menu-open\")\n            unlockBody()\n        } else {\n            lockBody()\n        }\n\n        if (window.innerWidth <= 576) {\n            headerEl.classList.add(\"header_menu-open\")\n        } else {\n            burgerMenuEl.classList.toggle(\"header__burger_open\");\n        }\n        menuEl.classList.toggle(\"header__menu_open\")\n    })\n\n    document.querySelector(\".header__menu-close\").addEventListener(\"click\", () => {\n        headerEl.classList.remove(\"header_menu-open\")\n        menuEl.classList.remove(\"header__menu_open\")\n        burgerMenuEl.classList.remove(\"header__burger_open\");\n        document.querySelectorAll(\".header__menu-item_open\")\n            .forEach(menuItemEl => menuItemEl.classList.remove(\"header__menu-item_open\"))\n        unlockBody()\n    })\n\n    // Popups\n    const citiesItemEls = document.querySelectorAll(\".popup .city\")\n    const citiesPopupEl = document.querySelector(\".popup_cities\");\n    const callBackPopupEl = document.querySelector(\".popup_callback\")\n\n    headerCityEl.addEventListener(\"click\", () => {\n        openPopup(citiesPopupEl)\n    })\n\n    citiesItemEls.forEach(cityItemEl => cityItemEl.addEventListener(\"click\", () => {\n        changeCity(\n            cityItemEl.dataset.city,\n            cityItemEl.lastElementChild.innerHTML\n        )\n        closePopup()\n        document.querySelector(\".city_active\").classList.remove(\"city_active\")\n        cityItemEl.classList.add(\"city_active\")\n    }))\n\n    document\n        .querySelectorAll(\".header__call-desc, .header__button, .header__actions .header__call-icon, .hero-section__button, .step__button, .footer__button, .footer__call-desc\")\n        .forEach(button => button.addEventListener(\"click\", () => openPopup(callBackPopupEl)))\n\n    document.querySelectorAll(\".popup__close\").forEach(\n        closeEl => closeEl.addEventListener(\"click\", closePopup)\n    )\n\n    document.querySelectorAll(\".popup\").forEach(\n        popupEl => popupEl.addEventListener(\"click\", e => {\n            if (!e.target.closest(\".popup__content\")) {\n                closePopup()\n            }\n        })\n    )\n\n    document.addEventListener(\"keydown\", (e) => {\n        if (e.which === 27) {\n            closePopup()\n        }\n    })\n\n\n    // Form \n    const inputEls = document.querySelectorAll(\".form__input, .form__check-input\")\n    const inputControlClass = \"form__control\"\n\n    inputEls.forEach(inputEl => {\n        let inputControlEl = inputEl.closest(\".\" + inputControlClass)\n    \n        // ввод\n        if (!inputControlEl) {\n            inputEl.addEventListener(\"change\", () => {\n                if (inputEl.className.includes(\"error\")) {\n                    inputEl.classList.remove(\"form__check-input_error\")\n                }\n            })\n            return\n        }\n\n\n        inputEl.addEventListener(\"input\", () => {\n            if (inputControlEl.classList.contains(inputControlClass + \"_error\")) {\n                inputControlEl.classList.remove(inputControlClass + \"_error\")\n            }\n\n        })\n        inputEl.addEventListener(\"change\", () => {\n            if (inputEl.value.trim() !== \"\") {\n                inputControlEl.classList.add(\"form__control_filled\")\n            } else {\n                inputControlEl.classList.remove(\"form__control_filled\")\n            }\n        })\n    })\n\n    document.querySelectorAll(\"input[name='phone']\").forEach(inputElement => {\n        inputElement.addEventListener(\"keypress\", (e) => {\n            const length = e.target.value.length;\n            if (e.charCode < 48 || e.charCode > 57 || length > 15) {\n                e.preventDefault();\n                return;\n            }\n    \n            switch (length) {\n                case 0: \n                    e.target.value = \"+7 \" ;\n                    break;\n                case 6:\n                    e.target.value += \" \";\n                    break;\n                case 10:\n                case 13:\n                    e.target.value += \"-\";\n                    break;\n                default:\n                    break;\n            }\n        })\n        inputElement.addEventListener(\"input\", e => {e.target.value.length === 3 && (e.target.value = \"\")})\n    })\n\n    for (let i = 0; i < document.forms.length; i++) {\n        document.forms[i].addEventListener(\"submit\", e => {\n            e.preventDefault();\n            validateForm(e.target)\n        })\n    }\n    document.querySelector(\".form__file-input\").addEventListener(\"change\", e => {\n        if (e.target.files[0].size > 100 * 1024 * 1024) {\n            alert(\"Размер файла не должен превышать 30 MB\")\n            return\n        }\n        const parentEl = e.target.closest(\".form__file\");\n        parentEl.querySelector(\".form__file-doc .text\").innerHTML = e.target.files[0].name\n        parentEl.classList.add(\"form__file_attached\")\n        parentEl.querySelector(\".form__file-doc button\").addEventListener(\"click\", () => {\n            e.target.value = \"\";\n            parentEl.classList.remove(\"form__file_attached\")\n        }, { once: true })\n    })\n\n\nnew Swiper(\".specialists-section .swiper\", {\n    spaceBetween: 10,\n    slidesPerView: \"auto\",\n    breakpoints: {\n        577: {\n            spaceBetween: 20,\n            slidesPerView: \"auto\",\n        }, \n        820: {\n            slidesPerView: 3\n        },\n        1080: {\n            slidesPerView: 4\n        }\n    },\n    navigation: {\n        prevEl: \".specialists-section .swiper-button-prev\",\n        nextEl: \".specialists-section .swiper-button-next\",\n    }\n})\n\nnew Swiper(\".press-center-section .swiper\", {\n    spaceBetween: 10,\n    slidesPerView: \"auto\",\n    wathchOverlow: true,\n    breakpoints: {\n        577: {\n            spaceBetween: 20,\n        }, \n    },\n    navigation: {\n        prevEl: \".press-center-section .swiper-button-prev\",\n        nextEl: \".press-center-section .swiper-button-next\",\n    }\n})\n\nnew Swiper(\".reviews-section .swiper\", {\n    spaceBetween: 10,\n    slidesPerView: \"auto\",\n    breakpoints: {\n        577: {\n            spaceBetween: 20\n        }\n    },\n    navigation: {\n        prevEl: \".reviews-section .swiper-button-prev\",\n        nextEl: \".reviews-section .swiper-button-next\",\n    }\n})\n\nnew Swiper(\".certificates-section__swiper\", {\n    spaceBetween: 10,\n    slidesPerView: \"auto\",\n    breakpoints: {\n        577: {\n            spaceBetween: 20\n        }\n    },\n    navigation: {\n        prevEl: \".certificates-section .swiper-button-prev\",\n        nextEl: \".certificates-section .swiper-button-next\",\n    }\n})\n\nnew Swiper(\".projects-section__swiper\", {\n    spaceBetween: 10,\n    slidesPerView: \"auto\",\n    breakpoints: {\n        577: {\n            spaceBetween: 20\n        }\n    },\n    navigation: {\n        prevEl: \".projects-section .swiper-button-prev\",\n        nextEl: \".projects-section .swiper-button-next\",\n    }\n})\n\n\n// reviews & seo text\nconst reviewItemEls = document.querySelectorAll(\".review\");\nconst seoContentEl = document.querySelector(\".seo-content\")\nconst maxHeights = {};\n\nif (reviewItemEls.length) {\n    maxHeights.review = parseFloat(getComputedStyle(document.querySelector(\".review__text\")).maxHeight)\n}\n\nif (seoContentEl) {\n    maxHeights.seo = parseFloat(getComputedStyle(document.querySelector(\".seo-content__text\")).maxHeight)\n}\n\n\nfunction changeElemHeight(elem) {\n    const buttonTextEl = elem.querySelector(\"span\")\n    const className = elem.classList[0];\n    if (elem.classList.contains(className + \"_open\")) {\n        elem.classList.remove(className + \"_open\")\n        buttonTextEl.innerHTML = \"Читать далее\"\n    } else {\n        elem.classList.add(className + \"_open\")\n        buttonTextEl.innerHTML = \"Свернуть текст\"\n    }\n}\n\nfunction checkElemHeight(elem, maxHeight) {\n    const className = elem.classList[0];\n    const textEl = elem.querySelector(\".\" + className + \"__text\");\n    const readMoreEl = elem.querySelector(\".\" + className + \"__more\")\n    \n    if (textEl.offsetHeight < textEl.scrollHeight) {\n        !elem.classList.contains(className + \"_hide\") && elem.classList.add(className + \"_hide\")\n    } else {\n        if (!elem.classList.contains(className + \"_open\")) {\n            elem.className = className\n        } else if (textEl.offsetHeight <= maxHeight) {\n            elem.className = className\n            readMoreEl.querySelector(\"span\").innerHTML = \"Читать далее\"\n        }\n    } \n}\n\nreviewItemEls.forEach(reviewItemEl => {\n    checkElemHeight(reviewItemEl, maxHeights.review);\n    reviewItemEl.querySelector(\".review__more\").addEventListener(\"click\", () => changeElemHeight(reviewItemEl))\n})\n\n\nif (reviewItemEls.length) {\n    window.addEventListener(\"resize\", () => {\n        reviewItemEls.forEach(reviewItemEl => checkElemHeight(reviewItemEl, maxHeights.review))\n    })\n}\n\nif (seoContentEl) {\n    checkElemHeight(seoContentEl, maxHeights.seo);\n    seoContentEl.querySelector(\".seo-content__more\").addEventListener(\"click\", () => changeElemHeight(seoContentEl))\n    window.addEventListener(\"resize\", () => checkElemHeight(seoContentEl, maxHeights.seo))\n}\n\n// yandex map\n\nfunction init(mapContainerSelector) {\n    function setMapPin() {\n        let myCollection = new ymaps.GeoObjectCollection();\n        let coords = mapEl?.dataset.mark?.split(',').map(Number) || [55.7954692462696,49.10686513125719];\n        // создание и установка пинов\n        myCollection.add(new ymaps.Placemark(coords, {\n            iconLayout: \"default#image\",\n            iconImageHref: imagesSrc.pinImage,\n            iconImageSize: [60, 60],\n        }));\n        // добавление пинов на карту\n        map.geoObjects.add(myCollection);\n    }\n\n    async function getCoords () {\n        setTimeout(() => {\n            setMapPin()\n        }, 2000)\n    }\n    \n    let mapEl = document.getElementById(mapContainerSelector);\n    let center = mapEl?.dataset.center?.split(',').map(Number) || [55.79551291555022,49.10679244528347];\n\n    // создание карты\n    let map = new ymaps.Map(mapContainerSelector, {\n        center,\n        controls: [],\n        zoom: 14,\n    }, {  autoFitToViewport: 'always' })\n    \n    let imagesSrc = mapEl.dataset\n    \n    getCoords()\n    \n    // zoom ctrl + mouse wheel\n    let ctrlKey = false\n    let body = document.getElementsByTagName('body')[0];\n    map.behaviors.disable(['scrollZoom']);\n    body.onkeydown = callbackDown;\n    body.onkeyup = callbackUp;\n    function callbackDown(e){\n        if(e.keyCode === 17 && !ctrlKey){\n            ctrlKey = true\n            map.behaviors.enable(['scrollZoom']);\n        }\n    }\n    function callbackUp(e){\n        if(e.keyCode === 17){\n            ctrlKey = false\n            map.behaviors.disable(['scrollZoom']);\n        }\n    }\n}\n\nymaps.ready(() => init(\"map\"));\nif (document.getElementById(\"contact-map\")) {\n    ymaps.ready(() => init(\"contact-map\"));\n}\n\n\n// faq\n\nconst faqItemHeaderEls = document.querySelectorAll(\".accordion__header\");\n\nfaqItemHeaderEls.forEach(faqItemHeaderEl => {\n    let timeoutId;\n    faqItemHeaderEl.addEventListener(\"click\", e => {\n        const faqItemEl = faqItemHeaderEl.parentElement;\n        const faqItemBodyEl = faqItemHeaderEl.nextElementSibling;\n        const faqItemTextEl = faqItemBodyEl.firstElementChild;\n\n        if (faqItemEl.classList.contains(\"accordion_open\")) {\n            let faqItemBodyHeight = faqItemBodyEl.scrollHeight;\n            faqItemBodyEl.style.height = faqItemBodyHeight + \"px\";\n            faqItemEl.classList.remove(\"accordion_open\")\n            timeoutId = setTimeout(() => faqItemBodyEl.style.height = \"\")\n        } else {\n            clearTimeout(timeoutId)\n            timeoutId = null\n            faqItemEl.classList.add(\"accordion_open\");\n            faqItemBodyEl.style.height = faqItemTextEl.offsetHeight + \"px\";\n            faqItemBodyEl.addEventListener(\"transitionend\", () => {\n                if (timeoutId) {\n                    return\n                }\n                faqItemBodyEl.style.height = \"auto\"\n            }, { once: true })\n        }\n    })\n})\n\n// filter panel\n\nconst filterPanelEl = document.querySelector(\".filter-panel\")\n\nfilterPanelEl?.addEventListener(\"click\", e => {\n    const filterItemEl = e.target.closest(\".filter-panel__item\");\n    if (!filterItemEl) {\n        return\n    }\n\n    if (filterItemEl.classList.contains(\"filter-panel__item_active\")) {\n        filterItemEl.classList.remove(\"filter-panel__item_active\")\n        return\n    }\n\n    filterPanelEl.querySelector(\".filter-panel__item_active\")?.classList.remove(\"filter-panel__item_active\")\n    filterItemEl.classList.add(\"filter-panel__item_active\")\n})\n\n// similiar projects \n\n// masonry \n    let masonry;\n\n    function initMasonryLayout(e) {\n        if (e.matches) {\n            masonry?.destroy()\n        } else {\n            masonry = new Masonry(\".services-section__grid\", {\n                itemSelector: '.services-block',\n                gutter: 20,\n                horizontalOrder: true,\n            });\n        }\n    }\n\n    if (document.querySelector(\".services-section__grid\")) {\n        gapMediaQuery.addEventListener(\"change\", initMasonryLayout)\n        initMasonryLayout(gapMediaQuery)\n    }\n\n    if (document.querySelector(\"[data-fancybox]\")) {\n        Fancybox.bind(\"[data-fancybox]\", {\n            // Your custom options\n            on: {\n                init: () => console.log(\"!!!!!!\"),\n                ready: () => console.log(\"ready\")\n            }\n        });\n    }\n\n    // prices page\n    if (document.querySelector(\".prices-section\")) {\n        const pricesNavEl = document.querySelector(\".prices-section__nav\")\n        const servicesCategoriesEl = pricesNavEl.nextElementSibling;\n        const activeCategoryClassName = \"prices-section__category_active\"\n        pricesNavEl.addEventListener(\"click\", e => {\n            const categoryButton = e.target.closest(\".prices-section__category-button\");\n    \n            pricesNavEl.querySelector(\".prices-section__category-button_active\").classList.remove(\"prices-section__category-button_active\")\n            categoryButton.classList.add(\"prices-section__category-button_active\")\n    \n            servicesCategoriesEl.style.opacity = 0;\n            servicesCategoriesEl.addEventListener(\"transitionend\", () => {\n                servicesCategoriesEl.querySelector(\".\" + activeCategoryClassName).classList.remove(activeCategoryClassName)\n                servicesCategoriesEl.style.opacity = \"\"\n                servicesCategoriesEl\n                    .querySelector(\"[data-category='\" + categoryButton.dataset.category + \"']\")\n                    .classList.add(activeCategoryClassName)\n            }, { once: true })\n        })\n\n        let scroll = new LocomotiveScroll()\n        let formBlockEl = document.querySelector(\".form-block\")\n\n        document.querySelector(\".prices-section__category\").addEventListener(\"click\", e => {\n            const buttonEl = e.target.closest(\".service__button\")\n            if (!buttonEl) {\n                return\n            }\n\n            const textareaEl = formBlockEl.querySelector(\"textarea\")\n            const formControlEl = textareaEl.closest(\".form__control\")\n            const serviceName = buttonEl.closest(\".service\").querySelector(\".service__name\").innerHTML\n\n            textareaEl.value = serviceName\n            formControlEl.classList.add(\"form__control_filled\")\n            formBlockEl.querySelector(\"input[type='hidden']\").value = buttonEl.dataset[\"serviceName\"]\n            scroll.scrollTo(formBlockEl)            \n        })\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTcyLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsR0FBRyxXQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsSUFBSSxZQUFZO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixzQkFBc0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7O0FBR0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxxREFBcUQscURBQXFEO0FBQzFHLEtBQUs7O0FBRUwsb0JBQW9CLDJCQUEyQjtBQUMvQztBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxJQUFJLFlBQVk7QUFDekIsS0FBSzs7O0FBR0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7OztBQUdEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssS0FBSyw2QkFBNkI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLElBQUksWUFBWTtBQUM3QjtBQUNBLEtBQUs7QUFDTCxDQUFDOztBQUVEOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLElBQUksWUFBWTtBQUM3QixTQUFTOztBQUVUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2d1bHAtc3RhcnQvLi9zcmMvanMvYXBwLmpzPzE1MzQiXSwic291cmNlc0NvbnRlbnQiOlsid2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IGlzTW9iaWxlID0ge1xuICAgICAgICBBbmRyb2lkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9BbmRyb2lkL2kpO1xuICAgICAgICB9LFxuICAgICAgICBCbGFja0JlcnJ5OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9CbGFja0JlcnJ5L2kpO1xuICAgICAgICB9LFxuICAgICAgICBpT1M6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL2lQaG9uZXxpUGFkfGlQb2QvaSk7XG4gICAgICAgIH0sXG4gICAgICAgIE9wZXJhOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9PcGVyYSBNaW5pL2kpO1xuICAgICAgICB9LFxuICAgICAgICBXaW5kb3dzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9JRU1vYmlsZS9pKSB8fCBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9XUERlc2t0b3AvaSk7XG4gICAgICAgIH0sXG4gICAgICAgIGFueTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gKGlzTW9iaWxlLkFuZHJvaWQoKSB8fCBpc01vYmlsZS5CbGFja0JlcnJ5KCkgfHwgaXNNb2JpbGUuaU9TKCkgfHwgaXNNb2JpbGUuT3BlcmEoKSB8fCBpc01vYmlsZS5XaW5kb3dzKCkpO1xuICAgICAgICB9XG4gICAgfTsgXG5cblxuICAgIGZ1bmN0aW9uIGxvY2tCb2R5KCkge1xuICAgICAgICAvLyBsZXQgcGFkZGluZ1ZhbHVlID0gd2luZG93LmlubmVyV2lkdGggLSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7XG4gICAgICAgIC8vIGlmIChsb2NrUGFkZGluZ0VsZW1lbnRzICYmIHBhZGRpbmdWYWx1ZSkge1xuICAgICAgICAvLyAgICAgbG9ja1BhZGRpbmdFbGVtZW50cy5zdHlsZS5wYWRkaW5nUmlnaHQgPSBwYWRkaW5nVmFsdWUgKyBcInB4XCJcbiAgICAgICAgLy8gfVxuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoXCJfbG9ja1wiKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVubG9ja0JvZHkgKCkge1xuICAgICAgICAvLyBpZiAobG9ja1BhZGRpbmdFbGVtZW50cykge1xuICAgICAgICAvLyAgICAgbG9ja1BhZGRpbmdFbGVtZW50cy5zdHlsZS5wYWRkaW5nUmlnaHQgPSBcIlwiXG4gICAgICAgIC8vIH1cbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwiX2xvY2tcIilcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvcGVuUG9wdXAocG9wdXAgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgbG9ja0JvZHkoKVxuICAgICAgICBpZiAocG9wdXApIHtcbiAgICAgICAgICAgIHBvcHVwLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcGVuXCIpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkdpdmUgbWUgYSBwb3B1cFwiKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xvc2VQb3B1cCgpIHtcbiAgICAgICAgbGV0IHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9vcGVuXCIpXG5cbiAgICAgICAgcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5cIik7XG4gICAgICAgIHBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsICgpID0+ICB7XG4gICAgICAgICAgICBpZiAoIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyX19idXJnZXJfb3BlblwiKSAmJiAhaGVhZGVyRWwuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaGVhZGVyX21lbnUtb3BlblwiKSkge1xuICAgICAgICAgICAgICAgIHVubG9ja0JvZHkoKSBcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybS1ibG9ja19zZW50XCIpKSB7XG4gICAgICAgICAgICAgICAgcG9wdXAucXVlcnlTZWxlY3RvcihcIi5mb3JtLWJsb2NrX3NlbnRcIikuY2xhc3NMaXN0LnJlbW92ZShcImZvcm0tYmxvY2tfd2hpdGVcIilcbiAgICAgICAgICAgICAgICBwb3B1cC5xdWVyeVNlbGVjdG9yKFwiLmZvcm0tYmxvY2tfc2VudFwiKS5jbGFzc0xpc3QucmVtb3ZlKFwiZm9ybS1ibG9ja19zZW50XCIpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwb3B1cC5xdWVyeVNlbGVjdG9yKFwiZm9ybVwiKSkge1xuICAgICAgICAgICAgICAgIHBvcHVwLnF1ZXJ5U2VsZWN0b3IoXCJmb3JtXCIpLnJlc2V0KClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge29uY2U6IHRydWV9KVxuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBjaGFuZ2VDaXR5KHZhbHVlLCBsYWJlbCkge1xuICAgICAgICBoZWFkZXJDaXR5RWwuZGF0YXNldC5jaXR5ID0gdmFsdWVcbiAgICAgICAgaGVhZGVyQ2l0eUVsLmxhc3RFbGVtZW50Q2hpbGQuaW5uZXJIVE1MID0gbGFiZWxcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZUZvcm0oZm9ybSkgeyAgICBcbiAgICAgICAgY29uc3QgcmVxRmllZGxzID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiW2NsYXNzJD0naW5wdXRfcmVxdWlyZWQnXVwiKVxuICAgIFxuICAgICAgICBmdW5jdGlvbiBjaGFuZ2VDb250ZW50UGFnZShmb3JtKSB7XG4gICAgICAgICAgICBjb25zdCBmb3JtQmxvY2tFbCA9IGZvcm0uY2xvc2VzdChcIi5mb3JtLWJsb2NrX19ib2R5XCIpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBmb3JtQmxvY2tFbC5zdHlsZS5vcGFjaXR5ID0gXCIwXCJcbiAgICAgICAgICAgIGlmIChmb3JtQmxvY2tFbC5jbG9zZXN0KFwiLnBvcHVwXCIpKSB7XG4gICAgICAgICAgICAgICAgZm9ybUJsb2NrRWwuY2xvc2VzdChcIi5wb3B1cFwiKS5jbGFzc0xpc3QuYWRkKFwicG9wdXBfd2hpdGVcIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvcm1CbG9ja0VsLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBmb3JtLmNsb3Nlc3QoXCIuZm9ybS1ibG9ja1wiKS5jbGFzc0xpc3QuYWRkKFwiZm9ybS1ibG9ja19zZW50XCIpXG4gICAgICAgICAgICAgICAgZm9ybUJsb2NrRWwuc3R5bGUub3BhY2l0eSA9IFwiMVwiXG4gICAgICAgICAgICB9LCB7IG9uY2U6IHRydWUgfSlcbiAgICAgICAgfVxuICAgIFxuICAgICAgICBsZXQgZXJyb3JzID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXFGaWVkbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChyZXFGaWVkbHNbaV0uZ2V0QXR0cmlidXRlKFwibmFtZVwiKSA9PT0gXCJuYW1lXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVxRmllZGxzW2ldLnZhbHVlID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcUZpZWRsc1tpXS5jbG9zZXN0KFwiLmZvcm1fX2NvbnRyb2xcIikuY2xhc3NMaXN0LmFkZChcImZvcm1fX2NvbnRyb2xfZXJyb3JcIik7XG4gICAgICAgICAgICAgICAgICAgIGVycm9ycysrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXFGaWVkbHNbaV0uZ2V0QXR0cmlidXRlKFwibmFtZVwiKSA9PT0gXCJwaG9uZVwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlcUZpZWRsc1tpXS52YWx1ZS50cmltKCkgPT09IFwiXCIgfHwgcmVxRmllZGxzW2ldLnZhbHVlLmxlbmd0aCA8IDE1KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcUZpZWRsc1tpXS5jbG9zZXN0KFwiLmZvcm1fX2NvbnRyb2xcIikuY2xhc3NMaXN0LmFkZChcImZvcm1fX2NvbnRyb2xfZXJyb3JcIik7XG4gICAgICAgICAgICAgICAgICAgIGVycm9ycysrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJlcUZpZWRsc1tpXS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXJlcUZpZWRsc1tpXS5jaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcUZpZWRsc1tpXS5jbGFzc0xpc3QuYWRkKFwiZm9ybV9fY2hlY2staW5wdXRfZXJyb3JcIilcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzKytcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgaWYgKGVycm9ycykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJGaWxsIHJlcSBmaWVsZHNcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3JtLmNsYXNzTGlzdC5hZGQoXCJmb3JtX3NlbmRpbmdcIilcbiAgICAgICAgICAgIGZvcm0ucXVlcnlTZWxlY3RvckFsbChcImlucHV0LCB0ZXh0YXJlYVwiKS5mb3JFYWNoKGZvcm1GaWVsZCA9PiBmb3JtRmllbGQuZGlzYWJsZWQgPSB0cnVlKVxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY2hhbmdlQ29udGVudFBhZ2UoZm9ybSlcbiAgICAgICAgICAgICAgICByZXNldEZvcm0oZm9ybSlcbiAgICAgICAgICAgIH0sIDEwMDApXG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gcmVzZXRGb3JtKGZvcm0pIHtcbiAgICAgICAgZm9ybS5yZXNldCgpO1xuICAgICAgICBmb3JtLmNsYXNzTGlzdC5yZW1vdmUoXCJmb3JtX3NlbmRpbmdcIilcbiAgICAgICAgZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1fX2NvbnRyb2xcIikuZm9yRWFjaChjb250cm9sRWwgPT4gY29udHJvbEVsLmNsYXNzTmFtZSA9IFwiZm9ybV9fY29udHJvbFwiKVxuICAgIH1cblxuICAgIC8vIEhlYWRlclxuICAgIGNvbnN0IGhlYWRlckVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJcIik7XG4gICAgY29uc3QgaGVhZGVyQ2l0eUVsID0gaGVhZGVyRWwucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX2NpdHlcIik7XG4gICAgY29uc3QgYnVyZ2VyTWVudUVsID0gaGVhZGVyRWwucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX2J1cmdlclwiKTtcblxuICAgIGNvbnN0IG1lbnVFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyX19tZW51XCIpXG5cbiAgICBtZW51RWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGUgPT4ge1xuICAgICAgICBjb25zdCB0YXJnZXRFbCA9IGUudGFyZ2V0O1xuICAgICAgICBpZiAoKCF0YXJnZXRFbC5jbG9zZXN0KFwiLmhlYWRlcl9fbWVudS1pdGVtXCIpICYmICF0YXJnZXRFbC5jbG9zZXN0KFwiLmhlYWRlcl9fc3VibWVudVwiKSkgfHwgdGFyZ2V0RWwuY2xvc2VzdChcIi5zdWJtZW51X19pdGVtXCIpKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgbGV0IG1lbnVJdGVtRWwgPSB0YXJnZXRFbC5jbG9zZXN0KFwiLmhlYWRlcl9fbWVudS1pdGVtXCIpXG4gICAgICAgIGlmIChtZW51SXRlbUVsLmNoaWxkRWxlbWVudENvdW50ICE9PSAzKSB7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbWVudUl0ZW1FbC5jbGFzc0xpc3QudG9nZ2xlKFwiaGVhZGVyX19tZW51LWl0ZW1fb3BlblwiKVxuICAgIH0pXG5cbiAgICBjb25zdCB0YWJsZXRNZWRpYVF1ZXJ5ID0gd2luZG93Lm1hdGNoTWVkaWEoXCIobWF4LXdpZHRoOiAxMDgwcHgpXCIpIFxuICAgIGNvbnN0IGdhcE1lZGlhUXVlcnkgPSB3aW5kb3cubWF0Y2hNZWRpYShcIihtYXgtd2lkdGg6IDc2OHB4KVwiKVxuICAgIGNvbnN0IHBob25lTWVkaWFRdWVyeSA9IHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1heC13aWR0aDogNTc2cHgpXCIpXG5cbiAgICBjb25zdCBmb290ZXJNZW51SXRlbUVscyA9IGhlYWRlckVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaGVhZGVyX19mb290ZXIgLmhlYWRlcl9fbWVudS1pdGVtXCIpO1xuICAgIGZ1bmN0aW9uIHJlcGxhY2VGb290ZXJNZW51KGUpIHtcbiAgICAgICAgaWYgKGUubWF0Y2hlcykge1xuICAgICAgICAgICAgbWVudUVsLnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyX19tZW51LWxpc3RcIikuYXBwZW5kKC4uLmZvb3Rlck1lbnVJdGVtRWxzKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGVhZGVyRWwucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX2Zvb3RlciAuaGVhZGVyX19tZW51LWxpc3RcIikuYXBwZW5kKC4uLmZvb3Rlck1lbnVJdGVtRWxzKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVwbGFjZUJ1dHRvbihlKSB7XG4gICAgICAgIGNvbnN0IGJ1dHRvbkVsID0gaGVhZGVyRWwucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX2J1dHRvblwiKTtcbiAgICAgICAgaWYgKGUubWF0Y2hlcykge1xuICAgICAgICAgICAgbWVudUVsLmFwcGVuZChidXR0b25FbClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhlYWRlckVsLnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyX19hY3Rpb25zXCIpLmFwcGVuZChidXR0b25FbClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlZHJhd01lbnUoZSkge1xuICAgICAgICBjb25zdCBoZWFkZXJUb3BFbCA9IGhlYWRlckVsLnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyX190b3BcIik7XG4gICAgICAgIGNvbnN0IGNhbGxFbCA9IGhlYWRlckVsLnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyX19jYWxsXCIpXG4gICAgICAgIGlmIChlLm1hdGNoZXMpIHtcbiAgICAgICAgICAgIGhlYWRlclRvcEVsLmZpcnN0RWxlbWVudENoaWxkLmFmdGVyKGNhbGxFbClcbiAgICAgICAgICAgIG1lbnVFbC5hcHBlbmQoaGVhZGVyVG9wRWwpXG4gICAgICAgICAgICBpZiAoYnVyZ2VyTWVudUVsLmNsYXNzTGlzdC5jb250YWlucyhcImhlYWRlcl9fYnVyZ2VyX29wZW5cIikpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJFbC5jbGFzc0xpc3QuYWRkKFwiaGVhZGVyX21lbnUtb3BlblwiKVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGVhZGVyRWwucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX2FjdGlvbnNcIikucHJlcGVuZChjYWxsRWwpXG4gICAgICAgICAgICBoZWFkZXJFbC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRhaW5lclwiKS5wcmVwZW5kKGhlYWRlclRvcEVsKVxuICAgICAgICAgICAgaWYgKGhlYWRlckVsLmNsYXNzTGlzdC5jb250YWlucyhcImhlYWRlcl9tZW51LW9wZW5cIikpIHtcbiAgICAgICAgICAgICAgICBidXJnZXJNZW51RWwuY2xhc3NMaXN0LmFkZChcImhlYWRlcl9fYnVyZ2VyX29wZW5cIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRhYmxldE1lZGlhUXVlcnkuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBlID0+IHtcbiAgICAgICAgaWYgKCFlLm1hdGNoZXMpIHtcbiAgICAgICAgICAgIGlmIChidXJnZXJNZW51RWwuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaGVhZGVyX19idXJnZXJfb3BlblwiKSkge1xuICAgICAgICAgICAgICAgIGJ1cmdlck1lbnVFbC5jbGFzc0xpc3QucmVtb3ZlKFwiaGVhZGVyX19idXJnZXJfb3BlblwiKTtcbiAgICAgICAgICAgICAgICBtZW51RWwuY2xhc3NMaXN0LnJlbW92ZShcImhlYWRlcl9fbWVudV9vcGVuXCIpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaGVhZGVyX19tZW51LWl0ZW1fb3BlblwiKS5mb3JFYWNoKG1lbnVJdGVtRWwgPT4gbWVudUl0ZW1FbC5jbGFzc0xpc3QucmVtb3ZlKFwiaGVhZGVyX19tZW51LWl0ZW1fb3BlblwiKSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICB0YWJsZXRNZWRpYVF1ZXJ5LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgcmVwbGFjZUZvb3Rlck1lbnUpXG4gICAgZ2FwTWVkaWFRdWVyeS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIHJlcGxhY2VCdXR0b24pXG4gICAgcGhvbmVNZWRpYVF1ZXJ5LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgcmVkcmF3TWVudSlcbiAgICBcbiAgICByZXBsYWNlQnV0dG9uKGdhcE1lZGlhUXVlcnkpXG4gICAgcmVkcmF3TWVudShwaG9uZU1lZGlhUXVlcnkpXG4gICAgcmVwbGFjZUZvb3Rlck1lbnUodGFibGV0TWVkaWFRdWVyeSlcbiAgICBcbiAgICBidXJnZXJNZW51RWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgaWYgKGJ1cmdlck1lbnVFbC5jbGFzc0xpc3QuY29udGFpbnMoXCJoZWFkZXJfX2J1cmdlcl9vcGVuXCIpKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmhlYWRlcl9fbWVudS1pdGVtX29wZW5cIilcbiAgICAgICAgICAgICAgICAuZm9yRWFjaChtZW51SXRlbUVsID0+IG1lbnVJdGVtRWwuY2xhc3NMaXN0LnJlbW92ZShcImhlYWRlcl9fbWVudS1pdGVtX29wZW5cIikpXG4gICAgICAgICAgICBoZWFkZXJFbC5jbGFzc0xpc3QucmVtb3ZlKFwiaGVhZGVyX21lbnUtb3BlblwiKVxuICAgICAgICAgICAgdW5sb2NrQm9keSgpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2NrQm9keSgpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2luZG93LmlubmVyV2lkdGggPD0gNTc2KSB7XG4gICAgICAgICAgICBoZWFkZXJFbC5jbGFzc0xpc3QuYWRkKFwiaGVhZGVyX21lbnUtb3BlblwiKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYnVyZ2VyTWVudUVsLmNsYXNzTGlzdC50b2dnbGUoXCJoZWFkZXJfX2J1cmdlcl9vcGVuXCIpO1xuICAgICAgICB9XG4gICAgICAgIG1lbnVFbC5jbGFzc0xpc3QudG9nZ2xlKFwiaGVhZGVyX19tZW51X29wZW5cIilcbiAgICB9KVxuXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX21lbnUtY2xvc2VcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgaGVhZGVyRWwuY2xhc3NMaXN0LnJlbW92ZShcImhlYWRlcl9tZW51LW9wZW5cIilcbiAgICAgICAgbWVudUVsLmNsYXNzTGlzdC5yZW1vdmUoXCJoZWFkZXJfX21lbnVfb3BlblwiKVxuICAgICAgICBidXJnZXJNZW51RWwuY2xhc3NMaXN0LnJlbW92ZShcImhlYWRlcl9fYnVyZ2VyX29wZW5cIik7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaGVhZGVyX19tZW51LWl0ZW1fb3BlblwiKVxuICAgICAgICAgICAgLmZvckVhY2gobWVudUl0ZW1FbCA9PiBtZW51SXRlbUVsLmNsYXNzTGlzdC5yZW1vdmUoXCJoZWFkZXJfX21lbnUtaXRlbV9vcGVuXCIpKVxuICAgICAgICB1bmxvY2tCb2R5KClcbiAgICB9KVxuXG4gICAgLy8gUG9wdXBzXG4gICAgY29uc3QgY2l0aWVzSXRlbUVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXAgLmNpdHlcIilcbiAgICBjb25zdCBjaXRpZXNQb3B1cEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9jaXRpZXNcIik7XG4gICAgY29uc3QgY2FsbEJhY2tQb3B1cEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9jYWxsYmFja1wiKVxuXG4gICAgaGVhZGVyQ2l0eUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIG9wZW5Qb3B1cChjaXRpZXNQb3B1cEVsKVxuICAgIH0pXG5cbiAgICBjaXRpZXNJdGVtRWxzLmZvckVhY2goY2l0eUl0ZW1FbCA9PiBjaXR5SXRlbUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGNoYW5nZUNpdHkoXG4gICAgICAgICAgICBjaXR5SXRlbUVsLmRhdGFzZXQuY2l0eSxcbiAgICAgICAgICAgIGNpdHlJdGVtRWwubGFzdEVsZW1lbnRDaGlsZC5pbm5lckhUTUxcbiAgICAgICAgKVxuICAgICAgICBjbG9zZVBvcHVwKClcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaXR5X2FjdGl2ZVwiKS5jbGFzc0xpc3QucmVtb3ZlKFwiY2l0eV9hY3RpdmVcIilcbiAgICAgICAgY2l0eUl0ZW1FbC5jbGFzc0xpc3QuYWRkKFwiY2l0eV9hY3RpdmVcIilcbiAgICB9KSlcblxuICAgIGRvY3VtZW50XG4gICAgICAgIC5xdWVyeVNlbGVjdG9yQWxsKFwiLmhlYWRlcl9fY2FsbC1kZXNjLCAuaGVhZGVyX19idXR0b24sIC5oZWFkZXJfX2FjdGlvbnMgLmhlYWRlcl9fY2FsbC1pY29uLCAuaGVyby1zZWN0aW9uX19idXR0b24sIC5zdGVwX19idXR0b24sIC5mb290ZXJfX2J1dHRvbiwgLmZvb3Rlcl9fY2FsbC1kZXNjXCIpXG4gICAgICAgIC5mb3JFYWNoKGJ1dHRvbiA9PiBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IG9wZW5Qb3B1cChjYWxsQmFja1BvcHVwRWwpKSlcblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2Nsb3NlXCIpLmZvckVhY2goXG4gICAgICAgIGNsb3NlRWwgPT4gY2xvc2VFbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VQb3B1cClcbiAgICApXG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwXCIpLmZvckVhY2goXG4gICAgICAgIHBvcHVwRWwgPT4gcG9wdXBFbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZSA9PiB7XG4gICAgICAgICAgICBpZiAoIWUudGFyZ2V0LmNsb3Nlc3QoXCIucG9wdXBfX2NvbnRlbnRcIikpIHtcbiAgICAgICAgICAgICAgICBjbG9zZVBvcHVwKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICApXG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xuICAgICAgICBpZiAoZS53aGljaCA9PT0gMjcpIHtcbiAgICAgICAgICAgIGNsb3NlUG9wdXAoKVxuICAgICAgICB9XG4gICAgfSlcblxuXG4gICAgLy8gRm9ybSBcbiAgICBjb25zdCBpbnB1dEVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9ybV9faW5wdXQsIC5mb3JtX19jaGVjay1pbnB1dFwiKVxuICAgIGNvbnN0IGlucHV0Q29udHJvbENsYXNzID0gXCJmb3JtX19jb250cm9sXCJcblxuICAgIGlucHV0RWxzLmZvckVhY2goaW5wdXRFbCA9PiB7XG4gICAgICAgIGxldCBpbnB1dENvbnRyb2xFbCA9IGlucHV0RWwuY2xvc2VzdChcIi5cIiArIGlucHV0Q29udHJvbENsYXNzKVxuICAgIFxuICAgICAgICAvLyDQstCy0L7QtFxuICAgICAgICBpZiAoIWlucHV0Q29udHJvbEVsKSB7XG4gICAgICAgICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dEVsLmNsYXNzTmFtZS5pbmNsdWRlcyhcImVycm9yXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0RWwuY2xhc3NMaXN0LnJlbW92ZShcImZvcm1fX2NoZWNrLWlucHV0X2Vycm9yXCIpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cblxuICAgICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaW5wdXRDb250cm9sRWwuY2xhc3NMaXN0LmNvbnRhaW5zKGlucHV0Q29udHJvbENsYXNzICsgXCJfZXJyb3JcIikpIHtcbiAgICAgICAgICAgICAgICBpbnB1dENvbnRyb2xFbC5jbGFzc0xpc3QucmVtb3ZlKGlucHV0Q29udHJvbENsYXNzICsgXCJfZXJyb3JcIilcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KVxuICAgICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGlucHV0RWwudmFsdWUudHJpbSgpICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgaW5wdXRDb250cm9sRWwuY2xhc3NMaXN0LmFkZChcImZvcm1fX2NvbnRyb2xfZmlsbGVkXCIpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlucHV0Q29udHJvbEVsLmNsYXNzTGlzdC5yZW1vdmUoXCJmb3JtX19jb250cm9sX2ZpbGxlZFwiKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH0pXG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRbbmFtZT0ncGhvbmUnXVwiKS5mb3JFYWNoKGlucHV0RWxlbWVudCA9PiB7XG4gICAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5cHJlc3NcIiwgKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IGUudGFyZ2V0LnZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChlLmNoYXJDb2RlIDwgNDggfHwgZS5jaGFyQ29kZSA+IDU3IHx8IGxlbmd0aCA+IDE1KSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIHN3aXRjaCAobGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOiBcbiAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPSBcIis3IFwiIDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSArPSBcIiBcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSArPSBcIi1cIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgZSA9PiB7ZS50YXJnZXQudmFsdWUubGVuZ3RoID09PSAzICYmIChlLnRhcmdldC52YWx1ZSA9IFwiXCIpfSlcbiAgICB9KVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkb2N1bWVudC5mb3Jtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBkb2N1bWVudC5mb3Jtc1tpXS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGUgPT4ge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdmFsaWRhdGVGb3JtKGUudGFyZ2V0KVxuICAgICAgICB9KVxuICAgIH1cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2ZpbGUtaW5wdXRcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBlID0+IHtcbiAgICAgICAgaWYgKGUudGFyZ2V0LmZpbGVzWzBdLnNpemUgPiAxMDAgKiAxMDI0ICogMTAyNCkge1xuICAgICAgICAgICAgYWxlcnQoXCLQoNCw0LfQvNC10YAg0YTQsNC50LvQsCDQvdC1INC00L7Qu9C20LXQvSDQv9GA0LXQstGL0YjQsNGC0YwgMzAgTUJcIilcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcmVudEVsID0gZS50YXJnZXQuY2xvc2VzdChcIi5mb3JtX19maWxlXCIpO1xuICAgICAgICBwYXJlbnRFbC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2ZpbGUtZG9jIC50ZXh0XCIpLmlubmVySFRNTCA9IGUudGFyZ2V0LmZpbGVzWzBdLm5hbWVcbiAgICAgICAgcGFyZW50RWwuY2xhc3NMaXN0LmFkZChcImZvcm1fX2ZpbGVfYXR0YWNoZWRcIilcbiAgICAgICAgcGFyZW50RWwucXVlcnlTZWxlY3RvcihcIi5mb3JtX19maWxlLWRvYyBidXR0b25cIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID0gXCJcIjtcbiAgICAgICAgICAgIHBhcmVudEVsLmNsYXNzTGlzdC5yZW1vdmUoXCJmb3JtX19maWxlX2F0dGFjaGVkXCIpXG4gICAgICAgIH0sIHsgb25jZTogdHJ1ZSB9KVxuICAgIH0pXG5cblxubmV3IFN3aXBlcihcIi5zcGVjaWFsaXN0cy1zZWN0aW9uIC5zd2lwZXJcIiwge1xuICAgIHNwYWNlQmV0d2VlbjogMTAsXG4gICAgc2xpZGVzUGVyVmlldzogXCJhdXRvXCIsXG4gICAgYnJlYWtwb2ludHM6IHtcbiAgICAgICAgNTc3OiB7XG4gICAgICAgICAgICBzcGFjZUJldHdlZW46IDIwLFxuICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogXCJhdXRvXCIsXG4gICAgICAgIH0sIFxuICAgICAgICA4MjA6IHtcbiAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDNcbiAgICAgICAgfSxcbiAgICAgICAgMTA4MDoge1xuICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogNFxuICAgICAgICB9XG4gICAgfSxcbiAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICAgIHByZXZFbDogXCIuc3BlY2lhbGlzdHMtc2VjdGlvbiAuc3dpcGVyLWJ1dHRvbi1wcmV2XCIsXG4gICAgICAgIG5leHRFbDogXCIuc3BlY2lhbGlzdHMtc2VjdGlvbiAuc3dpcGVyLWJ1dHRvbi1uZXh0XCIsXG4gICAgfVxufSlcblxubmV3IFN3aXBlcihcIi5wcmVzcy1jZW50ZXItc2VjdGlvbiAuc3dpcGVyXCIsIHtcbiAgICBzcGFjZUJldHdlZW46IDEwLFxuICAgIHNsaWRlc1BlclZpZXc6IFwiYXV0b1wiLFxuICAgIHdhdGhjaE92ZXJsb3c6IHRydWUsXG4gICAgYnJlYWtwb2ludHM6IHtcbiAgICAgICAgNTc3OiB7XG4gICAgICAgICAgICBzcGFjZUJldHdlZW46IDIwLFxuICAgICAgICB9LCBcbiAgICB9LFxuICAgIG5hdmlnYXRpb246IHtcbiAgICAgICAgcHJldkVsOiBcIi5wcmVzcy1jZW50ZXItc2VjdGlvbiAuc3dpcGVyLWJ1dHRvbi1wcmV2XCIsXG4gICAgICAgIG5leHRFbDogXCIucHJlc3MtY2VudGVyLXNlY3Rpb24gLnN3aXBlci1idXR0b24tbmV4dFwiLFxuICAgIH1cbn0pXG5cbm5ldyBTd2lwZXIoXCIucmV2aWV3cy1zZWN0aW9uIC5zd2lwZXJcIiwge1xuICAgIHNwYWNlQmV0d2VlbjogMTAsXG4gICAgc2xpZGVzUGVyVmlldzogXCJhdXRvXCIsXG4gICAgYnJlYWtwb2ludHM6IHtcbiAgICAgICAgNTc3OiB7XG4gICAgICAgICAgICBzcGFjZUJldHdlZW46IDIwXG4gICAgICAgIH1cbiAgICB9LFxuICAgIG5hdmlnYXRpb246IHtcbiAgICAgICAgcHJldkVsOiBcIi5yZXZpZXdzLXNlY3Rpb24gLnN3aXBlci1idXR0b24tcHJldlwiLFxuICAgICAgICBuZXh0RWw6IFwiLnJldmlld3Mtc2VjdGlvbiAuc3dpcGVyLWJ1dHRvbi1uZXh0XCIsXG4gICAgfVxufSlcblxubmV3IFN3aXBlcihcIi5jZXJ0aWZpY2F0ZXMtc2VjdGlvbl9fc3dpcGVyXCIsIHtcbiAgICBzcGFjZUJldHdlZW46IDEwLFxuICAgIHNsaWRlc1BlclZpZXc6IFwiYXV0b1wiLFxuICAgIGJyZWFrcG9pbnRzOiB7XG4gICAgICAgIDU3Nzoge1xuICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAyMFxuICAgICAgICB9XG4gICAgfSxcbiAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICAgIHByZXZFbDogXCIuY2VydGlmaWNhdGVzLXNlY3Rpb24gLnN3aXBlci1idXR0b24tcHJldlwiLFxuICAgICAgICBuZXh0RWw6IFwiLmNlcnRpZmljYXRlcy1zZWN0aW9uIC5zd2lwZXItYnV0dG9uLW5leHRcIixcbiAgICB9XG59KVxuXG5uZXcgU3dpcGVyKFwiLnByb2plY3RzLXNlY3Rpb25fX3N3aXBlclwiLCB7XG4gICAgc3BhY2VCZXR3ZWVuOiAxMCxcbiAgICBzbGlkZXNQZXJWaWV3OiBcImF1dG9cIixcbiAgICBicmVha3BvaW50czoge1xuICAgICAgICA1Nzc6IHtcbiAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMjBcbiAgICAgICAgfVxuICAgIH0sXG4gICAgbmF2aWdhdGlvbjoge1xuICAgICAgICBwcmV2RWw6IFwiLnByb2plY3RzLXNlY3Rpb24gLnN3aXBlci1idXR0b24tcHJldlwiLFxuICAgICAgICBuZXh0RWw6IFwiLnByb2plY3RzLXNlY3Rpb24gLnN3aXBlci1idXR0b24tbmV4dFwiLFxuICAgIH1cbn0pXG5cblxuLy8gcmV2aWV3cyAmIHNlbyB0ZXh0XG5jb25zdCByZXZpZXdJdGVtRWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5yZXZpZXdcIik7XG5jb25zdCBzZW9Db250ZW50RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlby1jb250ZW50XCIpXG5jb25zdCBtYXhIZWlnaHRzID0ge307XG5cbmlmIChyZXZpZXdJdGVtRWxzLmxlbmd0aCkge1xuICAgIG1heEhlaWdodHMucmV2aWV3ID0gcGFyc2VGbG9hdChnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmV2aWV3X190ZXh0XCIpKS5tYXhIZWlnaHQpXG59XG5cbmlmIChzZW9Db250ZW50RWwpIHtcbiAgICBtYXhIZWlnaHRzLnNlbyA9IHBhcnNlRmxvYXQoZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlby1jb250ZW50X190ZXh0XCIpKS5tYXhIZWlnaHQpXG59XG5cblxuZnVuY3Rpb24gY2hhbmdlRWxlbUhlaWdodChlbGVtKSB7XG4gICAgY29uc3QgYnV0dG9uVGV4dEVsID0gZWxlbS5xdWVyeVNlbGVjdG9yKFwic3BhblwiKVxuICAgIGNvbnN0IGNsYXNzTmFtZSA9IGVsZW0uY2xhc3NMaXN0WzBdO1xuICAgIGlmIChlbGVtLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUgKyBcIl9vcGVuXCIpKSB7XG4gICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUgKyBcIl9vcGVuXCIpXG4gICAgICAgIGJ1dHRvblRleHRFbC5pbm5lckhUTUwgPSBcItCn0LjRgtCw0YLRjCDQtNCw0LvQtdC1XCJcbiAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lICsgXCJfb3BlblwiKVxuICAgICAgICBidXR0b25UZXh0RWwuaW5uZXJIVE1MID0gXCLQodCy0LXRgNC90YPRgtGMINGC0LXQutGB0YJcIlxuICAgIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tFbGVtSGVpZ2h0KGVsZW0sIG1heEhlaWdodCkge1xuICAgIGNvbnN0IGNsYXNzTmFtZSA9IGVsZW0uY2xhc3NMaXN0WzBdO1xuICAgIGNvbnN0IHRleHRFbCA9IGVsZW0ucXVlcnlTZWxlY3RvcihcIi5cIiArIGNsYXNzTmFtZSArIFwiX190ZXh0XCIpO1xuICAgIGNvbnN0IHJlYWRNb3JlRWwgPSBlbGVtLnF1ZXJ5U2VsZWN0b3IoXCIuXCIgKyBjbGFzc05hbWUgKyBcIl9fbW9yZVwiKVxuICAgIFxuICAgIGlmICh0ZXh0RWwub2Zmc2V0SGVpZ2h0IDwgdGV4dEVsLnNjcm9sbEhlaWdodCkge1xuICAgICAgICAhZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lICsgXCJfaGlkZVwiKSAmJiBlbGVtLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lICsgXCJfaGlkZVwiKVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lICsgXCJfb3BlblwiKSkge1xuICAgICAgICAgICAgZWxlbS5jbGFzc05hbWUgPSBjbGFzc05hbWVcbiAgICAgICAgfSBlbHNlIGlmICh0ZXh0RWwub2Zmc2V0SGVpZ2h0IDw9IG1heEhlaWdodCkge1xuICAgICAgICAgICAgZWxlbS5jbGFzc05hbWUgPSBjbGFzc05hbWVcbiAgICAgICAgICAgIHJlYWRNb3JlRWwucXVlcnlTZWxlY3RvcihcInNwYW5cIikuaW5uZXJIVE1MID0gXCLQp9C40YLQsNGC0Ywg0LTQsNC70LXQtVwiXG4gICAgICAgIH1cbiAgICB9IFxufVxuXG5yZXZpZXdJdGVtRWxzLmZvckVhY2gocmV2aWV3SXRlbUVsID0+IHtcbiAgICBjaGVja0VsZW1IZWlnaHQocmV2aWV3SXRlbUVsLCBtYXhIZWlnaHRzLnJldmlldyk7XG4gICAgcmV2aWV3SXRlbUVsLnF1ZXJ5U2VsZWN0b3IoXCIucmV2aWV3X19tb3JlXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBjaGFuZ2VFbGVtSGVpZ2h0KHJldmlld0l0ZW1FbCkpXG59KVxuXG5cbmlmIChyZXZpZXdJdGVtRWxzLmxlbmd0aCkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsICgpID0+IHtcbiAgICAgICAgcmV2aWV3SXRlbUVscy5mb3JFYWNoKHJldmlld0l0ZW1FbCA9PiBjaGVja0VsZW1IZWlnaHQocmV2aWV3SXRlbUVsLCBtYXhIZWlnaHRzLnJldmlldykpXG4gICAgfSlcbn1cblxuaWYgKHNlb0NvbnRlbnRFbCkge1xuICAgIGNoZWNrRWxlbUhlaWdodChzZW9Db250ZW50RWwsIG1heEhlaWdodHMuc2VvKTtcbiAgICBzZW9Db250ZW50RWwucXVlcnlTZWxlY3RvcihcIi5zZW8tY29udGVudF9fbW9yZVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gY2hhbmdlRWxlbUhlaWdodChzZW9Db250ZW50RWwpKVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsICgpID0+IGNoZWNrRWxlbUhlaWdodChzZW9Db250ZW50RWwsIG1heEhlaWdodHMuc2VvKSlcbn1cblxuLy8geWFuZGV4IG1hcFxuXG5mdW5jdGlvbiBpbml0KG1hcENvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgZnVuY3Rpb24gc2V0TWFwUGluKCkge1xuICAgICAgICBsZXQgbXlDb2xsZWN0aW9uID0gbmV3IHltYXBzLkdlb09iamVjdENvbGxlY3Rpb24oKTtcbiAgICAgICAgbGV0IGNvb3JkcyA9IG1hcEVsPy5kYXRhc2V0Lm1hcms/LnNwbGl0KCcsJykubWFwKE51bWJlcikgfHwgWzU1Ljc5NTQ2OTI0NjI2OTYsNDkuMTA2ODY1MTMxMjU3MTldO1xuICAgICAgICAvLyDRgdC+0LfQtNCw0L3QuNC1INC4INGD0YHRgtCw0L3QvtCy0LrQsCDQv9C40L3QvtCyXG4gICAgICAgIG15Q29sbGVjdGlvbi5hZGQobmV3IHltYXBzLlBsYWNlbWFyayhjb29yZHMsIHtcbiAgICAgICAgICAgIGljb25MYXlvdXQ6IFwiZGVmYXVsdCNpbWFnZVwiLFxuICAgICAgICAgICAgaWNvbkltYWdlSHJlZjogaW1hZ2VzU3JjLnBpbkltYWdlLFxuICAgICAgICAgICAgaWNvbkltYWdlU2l6ZTogWzYwLCA2MF0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgLy8g0LTQvtCx0LDQstC70LXQvdC40LUg0L/QuNC90L7QsiDQvdCwINC60LDRgNGC0YNcbiAgICAgICAgbWFwLmdlb09iamVjdHMuYWRkKG15Q29sbGVjdGlvbik7XG4gICAgfVxuXG4gICAgYXN5bmMgZnVuY3Rpb24gZ2V0Q29vcmRzICgpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBzZXRNYXBQaW4oKVxuICAgICAgICB9LCAyMDAwKVxuICAgIH1cbiAgICBcbiAgICBsZXQgbWFwRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtYXBDb250YWluZXJTZWxlY3Rvcik7XG4gICAgbGV0IGNlbnRlciA9IG1hcEVsPy5kYXRhc2V0LmNlbnRlcj8uc3BsaXQoJywnKS5tYXAoTnVtYmVyKSB8fCBbNTUuNzk1NTEyOTE1NTUwMjIsNDkuMTA2NzkyNDQ1MjgzNDddO1xuXG4gICAgLy8g0YHQvtC30LTQsNC90LjQtSDQutCw0YDRgtGLXG4gICAgbGV0IG1hcCA9IG5ldyB5bWFwcy5NYXAobWFwQ29udGFpbmVyU2VsZWN0b3IsIHtcbiAgICAgICAgY2VudGVyLFxuICAgICAgICBjb250cm9sczogW10sXG4gICAgICAgIHpvb206IDE0LFxuICAgIH0sIHsgIGF1dG9GaXRUb1ZpZXdwb3J0OiAnYWx3YXlzJyB9KVxuICAgIFxuICAgIGxldCBpbWFnZXNTcmMgPSBtYXBFbC5kYXRhc2V0XG4gICAgXG4gICAgZ2V0Q29vcmRzKClcbiAgICBcbiAgICAvLyB6b29tIGN0cmwgKyBtb3VzZSB3aGVlbFxuICAgIGxldCBjdHJsS2V5ID0gZmFsc2VcbiAgICBsZXQgYm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdib2R5JylbMF07XG4gICAgbWFwLmJlaGF2aW9ycy5kaXNhYmxlKFsnc2Nyb2xsWm9vbSddKTtcbiAgICBib2R5Lm9ua2V5ZG93biA9IGNhbGxiYWNrRG93bjtcbiAgICBib2R5Lm9ua2V5dXAgPSBjYWxsYmFja1VwO1xuICAgIGZ1bmN0aW9uIGNhbGxiYWNrRG93bihlKXtcbiAgICAgICAgaWYoZS5rZXlDb2RlID09PSAxNyAmJiAhY3RybEtleSl7XG4gICAgICAgICAgICBjdHJsS2V5ID0gdHJ1ZVxuICAgICAgICAgICAgbWFwLmJlaGF2aW9ycy5lbmFibGUoWydzY3JvbGxab29tJ10pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNhbGxiYWNrVXAoZSl7XG4gICAgICAgIGlmKGUua2V5Q29kZSA9PT0gMTcpe1xuICAgICAgICAgICAgY3RybEtleSA9IGZhbHNlXG4gICAgICAgICAgICBtYXAuYmVoYXZpb3JzLmRpc2FibGUoWydzY3JvbGxab29tJ10pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG55bWFwcy5yZWFkeSgoKSA9PiBpbml0KFwibWFwXCIpKTtcbmlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhY3QtbWFwXCIpKSB7XG4gICAgeW1hcHMucmVhZHkoKCkgPT4gaW5pdChcImNvbnRhY3QtbWFwXCIpKTtcbn1cblxuXG4vLyBmYXFcblxuY29uc3QgZmFxSXRlbUhlYWRlckVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYWNjb3JkaW9uX19oZWFkZXJcIik7XG5cbmZhcUl0ZW1IZWFkZXJFbHMuZm9yRWFjaChmYXFJdGVtSGVhZGVyRWwgPT4ge1xuICAgIGxldCB0aW1lb3V0SWQ7XG4gICAgZmFxSXRlbUhlYWRlckVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBlID0+IHtcbiAgICAgICAgY29uc3QgZmFxSXRlbUVsID0gZmFxSXRlbUhlYWRlckVsLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGZhcUl0ZW1Cb2R5RWwgPSBmYXFJdGVtSGVhZGVyRWwubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgICBjb25zdCBmYXFJdGVtVGV4dEVsID0gZmFxSXRlbUJvZHlFbC5maXJzdEVsZW1lbnRDaGlsZDtcblxuICAgICAgICBpZiAoZmFxSXRlbUVsLmNsYXNzTGlzdC5jb250YWlucyhcImFjY29yZGlvbl9vcGVuXCIpKSB7XG4gICAgICAgICAgICBsZXQgZmFxSXRlbUJvZHlIZWlnaHQgPSBmYXFJdGVtQm9keUVsLnNjcm9sbEhlaWdodDtcbiAgICAgICAgICAgIGZhcUl0ZW1Cb2R5RWwuc3R5bGUuaGVpZ2h0ID0gZmFxSXRlbUJvZHlIZWlnaHQgKyBcInB4XCI7XG4gICAgICAgICAgICBmYXFJdGVtRWwuY2xhc3NMaXN0LnJlbW92ZShcImFjY29yZGlvbl9vcGVuXCIpXG4gICAgICAgICAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IGZhcUl0ZW1Cb2R5RWwuc3R5bGUuaGVpZ2h0ID0gXCJcIilcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpXG4gICAgICAgICAgICB0aW1lb3V0SWQgPSBudWxsXG4gICAgICAgICAgICBmYXFJdGVtRWwuY2xhc3NMaXN0LmFkZChcImFjY29yZGlvbl9vcGVuXCIpO1xuICAgICAgICAgICAgZmFxSXRlbUJvZHlFbC5zdHlsZS5oZWlnaHQgPSBmYXFJdGVtVGV4dEVsLm9mZnNldEhlaWdodCArIFwicHhcIjtcbiAgICAgICAgICAgIGZhcUl0ZW1Cb2R5RWwuYWRkRXZlbnRMaXN0ZW5lcihcInRyYW5zaXRpb25lbmRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aW1lb3V0SWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZhcUl0ZW1Cb2R5RWwuc3R5bGUuaGVpZ2h0ID0gXCJhdXRvXCJcbiAgICAgICAgICAgIH0sIHsgb25jZTogdHJ1ZSB9KVxuICAgICAgICB9XG4gICAgfSlcbn0pXG5cbi8vIGZpbHRlciBwYW5lbFxuXG5jb25zdCBmaWx0ZXJQYW5lbEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5maWx0ZXItcGFuZWxcIilcblxuZmlsdGVyUGFuZWxFbD8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGUgPT4ge1xuICAgIGNvbnN0IGZpbHRlckl0ZW1FbCA9IGUudGFyZ2V0LmNsb3Nlc3QoXCIuZmlsdGVyLXBhbmVsX19pdGVtXCIpO1xuICAgIGlmICghZmlsdGVySXRlbUVsKSB7XG4gICAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChmaWx0ZXJJdGVtRWwuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZmlsdGVyLXBhbmVsX19pdGVtX2FjdGl2ZVwiKSkge1xuICAgICAgICBmaWx0ZXJJdGVtRWwuY2xhc3NMaXN0LnJlbW92ZShcImZpbHRlci1wYW5lbF9faXRlbV9hY3RpdmVcIilcbiAgICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgZmlsdGVyUGFuZWxFbC5xdWVyeVNlbGVjdG9yKFwiLmZpbHRlci1wYW5lbF9faXRlbV9hY3RpdmVcIik/LmNsYXNzTGlzdC5yZW1vdmUoXCJmaWx0ZXItcGFuZWxfX2l0ZW1fYWN0aXZlXCIpXG4gICAgZmlsdGVySXRlbUVsLmNsYXNzTGlzdC5hZGQoXCJmaWx0ZXItcGFuZWxfX2l0ZW1fYWN0aXZlXCIpXG59KVxuXG4vLyBzaW1pbGlhciBwcm9qZWN0cyBcblxuLy8gbWFzb25yeSBcbiAgICBsZXQgbWFzb25yeTtcblxuICAgIGZ1bmN0aW9uIGluaXRNYXNvbnJ5TGF5b3V0KGUpIHtcbiAgICAgICAgaWYgKGUubWF0Y2hlcykge1xuICAgICAgICAgICAgbWFzb25yeT8uZGVzdHJveSgpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtYXNvbnJ5ID0gbmV3IE1hc29ucnkoXCIuc2VydmljZXMtc2VjdGlvbl9fZ3JpZFwiLCB7XG4gICAgICAgICAgICAgICAgaXRlbVNlbGVjdG9yOiAnLnNlcnZpY2VzLWJsb2NrJyxcbiAgICAgICAgICAgICAgICBndXR0ZXI6IDIwLFxuICAgICAgICAgICAgICAgIGhvcml6b250YWxPcmRlcjogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VydmljZXMtc2VjdGlvbl9fZ3JpZFwiKSkge1xuICAgICAgICBnYXBNZWRpYVF1ZXJ5LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgaW5pdE1hc29ucnlMYXlvdXQpXG4gICAgICAgIGluaXRNYXNvbnJ5TGF5b3V0KGdhcE1lZGlhUXVlcnkpXG4gICAgfVxuXG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1mYW5jeWJveF1cIikpIHtcbiAgICAgICAgRmFuY3lib3guYmluZChcIltkYXRhLWZhbmN5Ym94XVwiLCB7XG4gICAgICAgICAgICAvLyBZb3VyIGN1c3RvbSBvcHRpb25zXG4gICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgIGluaXQ6ICgpID0+IGNvbnNvbGUubG9nKFwiISEhISEhXCIpLFxuICAgICAgICAgICAgICAgIHJlYWR5OiAoKSA9PiBjb25zb2xlLmxvZyhcInJlYWR5XCIpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIHByaWNlcyBwYWdlXG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJpY2VzLXNlY3Rpb25cIikpIHtcbiAgICAgICAgY29uc3QgcHJpY2VzTmF2RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByaWNlcy1zZWN0aW9uX19uYXZcIilcbiAgICAgICAgY29uc3Qgc2VydmljZXNDYXRlZ29yaWVzRWwgPSBwcmljZXNOYXZFbC5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgICAgIGNvbnN0IGFjdGl2ZUNhdGVnb3J5Q2xhc3NOYW1lID0gXCJwcmljZXMtc2VjdGlvbl9fY2F0ZWdvcnlfYWN0aXZlXCJcbiAgICAgICAgcHJpY2VzTmF2RWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2F0ZWdvcnlCdXR0b24gPSBlLnRhcmdldC5jbG9zZXN0KFwiLnByaWNlcy1zZWN0aW9uX19jYXRlZ29yeS1idXR0b25cIik7XG4gICAgXG4gICAgICAgICAgICBwcmljZXNOYXZFbC5xdWVyeVNlbGVjdG9yKFwiLnByaWNlcy1zZWN0aW9uX19jYXRlZ29yeS1idXR0b25fYWN0aXZlXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJwcmljZXMtc2VjdGlvbl9fY2F0ZWdvcnktYnV0dG9uX2FjdGl2ZVwiKVxuICAgICAgICAgICAgY2F0ZWdvcnlCdXR0b24uY2xhc3NMaXN0LmFkZChcInByaWNlcy1zZWN0aW9uX19jYXRlZ29yeS1idXR0b25fYWN0aXZlXCIpXG4gICAgXG4gICAgICAgICAgICBzZXJ2aWNlc0NhdGVnb3JpZXNFbC5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgICAgIHNlcnZpY2VzQ2F0ZWdvcmllc0VsLmFkZEV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXJ2aWNlc0NhdGVnb3JpZXNFbC5xdWVyeVNlbGVjdG9yKFwiLlwiICsgYWN0aXZlQ2F0ZWdvcnlDbGFzc05hbWUpLmNsYXNzTGlzdC5yZW1vdmUoYWN0aXZlQ2F0ZWdvcnlDbGFzc05hbWUpXG4gICAgICAgICAgICAgICAgc2VydmljZXNDYXRlZ29yaWVzRWwuc3R5bGUub3BhY2l0eSA9IFwiXCJcbiAgICAgICAgICAgICAgICBzZXJ2aWNlc0NhdGVnb3JpZXNFbFxuICAgICAgICAgICAgICAgICAgICAucXVlcnlTZWxlY3RvcihcIltkYXRhLWNhdGVnb3J5PSdcIiArIGNhdGVnb3J5QnV0dG9uLmRhdGFzZXQuY2F0ZWdvcnkgKyBcIiddXCIpXG4gICAgICAgICAgICAgICAgICAgIC5jbGFzc0xpc3QuYWRkKGFjdGl2ZUNhdGVnb3J5Q2xhc3NOYW1lKVxuICAgICAgICAgICAgfSwgeyBvbmNlOiB0cnVlIH0pXG4gICAgICAgIH0pXG5cbiAgICAgICAgbGV0IHNjcm9sbCA9IG5ldyBMb2NvbW90aXZlU2Nyb2xsKClcbiAgICAgICAgbGV0IGZvcm1CbG9ja0VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtLWJsb2NrXCIpXG5cbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcmljZXMtc2VjdGlvbl9fY2F0ZWdvcnlcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgYnV0dG9uRWwgPSBlLnRhcmdldC5jbG9zZXN0KFwiLnNlcnZpY2VfX2J1dHRvblwiKVxuICAgICAgICAgICAgaWYgKCFidXR0b25FbCkge1xuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB0ZXh0YXJlYUVsID0gZm9ybUJsb2NrRWwucXVlcnlTZWxlY3RvcihcInRleHRhcmVhXCIpXG4gICAgICAgICAgICBjb25zdCBmb3JtQ29udHJvbEVsID0gdGV4dGFyZWFFbC5jbG9zZXN0KFwiLmZvcm1fX2NvbnRyb2xcIilcbiAgICAgICAgICAgIGNvbnN0IHNlcnZpY2VOYW1lID0gYnV0dG9uRWwuY2xvc2VzdChcIi5zZXJ2aWNlXCIpLnF1ZXJ5U2VsZWN0b3IoXCIuc2VydmljZV9fbmFtZVwiKS5pbm5lckhUTUxcblxuICAgICAgICAgICAgdGV4dGFyZWFFbC52YWx1ZSA9IHNlcnZpY2VOYW1lXG4gICAgICAgICAgICBmb3JtQ29udHJvbEVsLmNsYXNzTGlzdC5hZGQoXCJmb3JtX19jb250cm9sX2ZpbGxlZFwiKVxuICAgICAgICAgICAgZm9ybUJsb2NrRWwucXVlcnlTZWxlY3RvcihcImlucHV0W3R5cGU9J2hpZGRlbiddXCIpLnZhbHVlID0gYnV0dG9uRWwuZGF0YXNldFtcInNlcnZpY2VOYW1lXCJdXG4gICAgICAgICAgICBzY3JvbGwuc2Nyb2xsVG8oZm9ybUJsb2NrRWwpICAgICAgICAgICAgXG4gICAgICAgIH0pXG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///972\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__[972]();
/******/ 	
/******/ })()
;